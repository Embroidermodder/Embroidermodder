\hypertarget{object-line_8cpp_source}{}\doxysubsection{object-\/line.cpp}
\label{object-line_8cpp_source}\index{embroidermodder2/object-\/line.cpp@{embroidermodder2/object-\/line.cpp}}
\mbox{\hyperlink{object-line_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{object-line_8h}{object-\/line.h}}"{}}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{object-data_8h}{object-\/data.h}}"{}}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <QPainter>}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <QStyleOption>}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <QGraphicsScene>}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00008}\mbox{\hyperlink{class_line_object_aafb303b67904f48cb3935761563ed223}{00008}}\ \mbox{\hyperlink{class_line_object_aafb303b67904f48cb3935761563ed223}{LineObject::LineObject}}(qreal\ x1,\ qreal\ y1,\ qreal\ x2,\ qreal\ y2,\ QRgb\ rgb,\ QGraphicsItem*\ parent)\ :\ \mbox{\hyperlink{class_base_object}{BaseObject}}(parent)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00010}00010\ \ \ \ \ qDebug(\textcolor{stringliteral}{"{}LineObject\ Constructor()"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00011}00011\ \ \ \ \ init(x1,\ y1,\ x2,\ y2,\ rgb,\ Qt::SolidLine);\ \textcolor{comment}{//TODO:\ getCurrentLineType}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00012}00012\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00014}\mbox{\hyperlink{class_line_object_aa96d034b9c03453643fdb2e8758a1e65}{00014}}\ \mbox{\hyperlink{class_line_object_aafb303b67904f48cb3935761563ed223}{LineObject::LineObject}}(\mbox{\hyperlink{class_line_object}{LineObject}}*\ obj,\ QGraphicsItem*\ parent)\ :\ \mbox{\hyperlink{class_base_object}{BaseObject}}(parent)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00015}00015\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00016}00016\ \ \ \ \ qDebug(\textcolor{stringliteral}{"{}LineObject\ Constructor()"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{if}(obj)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00018}00018\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00019}00019\ \ \ \ \ \ \ \ \ init(obj-\/>\mbox{\hyperlink{class_line_object_a3018efc99bfe59b1ca058a8b0cffbaa6}{objectX1}}(),\ obj-\/>\mbox{\hyperlink{class_line_object_a0ccbaeb85baa01d91fcbe3f4101789de}{objectY1}}(),\ obj-\/>\mbox{\hyperlink{class_line_object_a2ccdc8dcd9d1535f849134f55249eee2}{objectX2}}(),\ obj-\/>\mbox{\hyperlink{class_line_object_a71ea43a3131bb2257618c0d51221700f}{objectY2}}(),\ obj-\/>\mbox{\hyperlink{class_base_object_a8dc961aacf04cf3f232c9e8b74a0b458}{objectColorRGB}}(),\ Qt::SolidLine);\ \textcolor{comment}{//TODO:\ getCurrentLineType}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00020}00020\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00021}00021\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00023}\mbox{\hyperlink{class_line_object_afe3187b62a3c3593154c8bd1d187e7fb}{00023}}\ \mbox{\hyperlink{class_line_object_afe3187b62a3c3593154c8bd1d187e7fb}{LineObject::\string~LineObject}}()}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00024}00024\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00025}00025\ \ \ \ \ qDebug(\textcolor{stringliteral}{"{}LineObject\ Destructor()"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00026}00026\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00028}00028\ \textcolor{keywordtype}{void}\ LineObject::init(qreal\ x1,\ qreal\ y1,\ qreal\ x2,\ qreal\ y2,\ QRgb\ rgb,\ Qt::PenStyle\ lineType)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00029}00029\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00030}00030\ \ \ \ \ setData(\mbox{\hyperlink{object-data_8h_a29bcbce98e36705fa9c1577a227d53c0ad29edd5d5816dc9b15f9d9f88898764f}{OBJ\_TYPE}},\ \mbox{\hyperlink{class_line_object_a67b824a3d6f5f8dc7b9f435353c62676}{type}}());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00031}00031\ \ \ \ \ setData(\mbox{\hyperlink{object-data_8h_a29bcbce98e36705fa9c1577a227d53c0a86bc3d3fc4b067f049c3c6efd029727b}{OBJ\_NAME}},\ \mbox{\hyperlink{object-data_8h_afc98727dcc92fcdb44e7e425e0688a6a}{OBJ\_NAME\_LINE}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00033}00033\ \ \ \ \ \textcolor{comment}{//WARNING:\ DO\ NOT\ enable\ QGraphicsItem::ItemIsMovable.\ If\ it\ is\ enabled,}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00034}00034\ \ \ \ \ \textcolor{comment}{//WARNING:\ and\ the\ item\ is\ double\ clicked,\ the\ scene\ will\ erratically\ move\ the\ item\ while\ zooming.}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00035}00035\ \ \ \ \ \textcolor{comment}{//WARNING:\ All\ movement\ has\ to\ be\ handled\ explicitly\ by\ us,\ not\ by\ the\ scene.}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00036}00036\ \ \ \ \ setFlag(QGraphicsItem::ItemIsSelectable,\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00038}00038\ \ \ \ \ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{setObjectEndPoint1}}(x1,\ y1);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00039}00039\ \ \ \ \ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{setObjectEndPoint2}}(x2,\ y2);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{class_base_object_a0abb399709aa2214d9a2ecbf28335894}{setObjectColor}}(rgb);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00041}00041\ \ \ \ \ \mbox{\hyperlink{class_base_object_a59af90152f97f3c4136a4594ec4b5346}{setObjectLineType}}(lineType);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00042}00042\ \ \ \ \ \mbox{\hyperlink{class_base_object_afd09aefdd45b1a264ae45e12b1ea7d59}{setObjectLineWeight}}(0.35);\ \textcolor{comment}{//TODO:\ pass\ in\ proper\ lineweight}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00043}00043\ \ \ \ \ setPen(\mbox{\hyperlink{class_base_object_adbe2cb871eda436257a2f9140a62dffa}{objectPen}}());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00044}00044\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00046}\mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{00046}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{LineObject::setObjectEndPoint1}}(\textcolor{keyword}{const}\ QPointF\&\ endPt1)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00047}00047\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00048}00048\ \ \ \ \ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{setObjectEndPoint1}}(endPt1.x(),\ endPt1.y());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00049}00049\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00051}\mbox{\hyperlink{class_line_object_ab4deec9407c3d1a0f617bee02c817e18}{00051}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{LineObject::setObjectEndPoint1}}(qreal\ x1,\ qreal\ y1)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00052}00052\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00053}00053\ \ \ \ \ QPointF\ endPt2\ =\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{objectEndPoint2}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00054}00054\ \ \ \ \ qreal\ x2\ =\ endPt2.x();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00055}00055\ \ \ \ \ qreal\ y2\ =\ endPt2.y();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00056}00056\ \ \ \ \ qreal\ dx\ =\ x2\ -\/\ x1;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00057}00057\ \ \ \ \ qreal\ dy\ =\ y2\ -\/\ y1;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00058}00058\ \ \ \ \ setRotation(0);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00059}00059\ \ \ \ \ setScale(1);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{class_base_object_a321d2d38e3176c39656090d311ea753e}{setLine}}(0,\ 0,\ dx,\ dy);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00061}00061\ \ \ \ \ setPos(x1,\ y1);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00062}00062\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00064}\mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{00064}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{LineObject::setObjectEndPoint2}}(\textcolor{keyword}{const}\ QPointF\&\ endPt2)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00065}00065\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00066}00066\ \ \ \ \ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{setObjectEndPoint2}}(endPt2.x(),\ endPt2.y());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00067}00067\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00069}\mbox{\hyperlink{class_line_object_aa7617ac709019d7a7a8446c165a47bc9}{00069}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{LineObject::setObjectEndPoint2}}(qreal\ x2,\ qreal\ y2)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00070}00070\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00071}00071\ \ \ \ \ QPointF\ endPt1\ =\ scenePos();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00072}00072\ \ \ \ \ qreal\ x1\ =\ endPt1.x();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00073}00073\ \ \ \ \ qreal\ y1\ =\ endPt1.y();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00074}00074\ \ \ \ \ qreal\ dx\ =\ x2\ -\/\ x1;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00075}00075\ \ \ \ \ qreal\ dy\ =\ y2\ -\/\ y1;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00076}00076\ \ \ \ \ setRotation(0);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00077}00077\ \ \ \ \ setScale(1);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00078}00078\ \ \ \ \ \mbox{\hyperlink{class_base_object_a321d2d38e3176c39656090d311ea753e}{setLine}}(0,\ 0,\ dx,\ dy);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00079}00079\ \ \ \ \ setPos(x1,\ y1);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00080}00080\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00082}\mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{00082}}\ QPointF\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{LineObject::objectEndPoint2}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00083}00083\ \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00084}00084\ \ \ \ \ QLineF\ lyne\ =\ \mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00085}00085\ \ \ \ \ qreal\ rot\ =\ \mbox{\hyperlink{class_base_object_a7dc5e96f4e28b14d82b05e74822b261b}{radians}}(rotation());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00086}00086\ \ \ \ \ qreal\ cosRot\ =\ qCos(rot);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00087}00087\ \ \ \ \ qreal\ sinRot\ =\ qSin(rot);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00088}00088\ \ \ \ \ qreal\ x2\ =\ lyne.x2()*scale();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00089}00089\ \ \ \ \ qreal\ y2\ =\ lyne.y2()*scale();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00090}00090\ \ \ \ \ qreal\ rotEnd2X\ =\ x2*cosRot\ -\/\ y2*sinRot;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00091}00091\ \ \ \ \ qreal\ rotEnd2Y\ =\ x2*sinRot\ +\ y2*cosRot;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00093}00093\ \ \ \ \ \textcolor{keywordflow}{return}\ (scenePos()\ +\ QPointF(rotEnd2X,\ rotEnd2Y));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00094}00094\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00096}\mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{00096}}\ QPointF\ \mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{LineObject::objectMidPoint}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00097}00097\ \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00098}00098\ \ \ \ \ QLineF\ lyne\ =\ \mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00099}00099\ \ \ \ \ QPointF\ mp\ =\ lyne.pointAt(0.5);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00100}00100\ \ \ \ \ qreal\ rot\ =\ \mbox{\hyperlink{class_base_object_a7dc5e96f4e28b14d82b05e74822b261b}{radians}}(rotation());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00101}00101\ \ \ \ \ qreal\ cosRot\ =\ qCos(rot);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00102}00102\ \ \ \ \ qreal\ sinRot\ =\ qSin(rot);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00103}00103\ \ \ \ \ qreal\ mx\ =\ mp.x()*scale();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00104}00104\ \ \ \ \ qreal\ my\ =\ mp.y()*scale();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00105}00105\ \ \ \ \ qreal\ rotMidX\ =\ mx*cosRot\ -\/\ my*sinRot;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00106}00106\ \ \ \ \ qreal\ rotMidY\ =\ mx*sinRot\ +\ my*cosRot;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00108}00108\ \ \ \ \ \textcolor{keywordflow}{return}\ (scenePos()\ +\ QPointF(rotMidX,\ rotMidY));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00109}00109\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00111}\mbox{\hyperlink{class_line_object_a23787ab0864216d473b44472b88ace8f}{00111}}\ qreal\ \mbox{\hyperlink{class_line_object_a23787ab0864216d473b44472b88ace8f}{LineObject::objectAngle}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00112}00112\ \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00113}00113\ \ \ \ \ qreal\ angle\ =\ \mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}().angle()\ -\/\ rotation();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00114}00114\ \ \ \ \ \textcolor{keywordflow}{while}(angle\ >=\ 360.0)\ \{\ angle\ -\/=\ 360.0;\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00115}00115\ \ \ \ \ \textcolor{keywordflow}{while}(angle\ <\ 0.0)\ \ \ \ \{\ angle\ +=\ 360.0;\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00116}00116\ \ \ \ \ \textcolor{keywordflow}{return}\ angle;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00117}00117\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00119}\mbox{\hyperlink{class_line_object_a8c124c843504f6971f6677f12ac9247f}{00119}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a8c124c843504f6971f6677f12ac9247f}{LineObject::paint}}(QPainter*\ painter,\ \textcolor{keyword}{const}\ QStyleOptionGraphicsItem*\ option,\ QWidget*\ \textcolor{comment}{/*widget*/})}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00120}00120\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00121}00121\ \ \ \ \ QGraphicsScene*\ objScene\ =\ scene();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00122}00122\ \ \ \ \ \textcolor{keywordflow}{if}(!objScene)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00124}00124\ \ \ \ \ QPen\ paintPen\ =\ pen();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00125}00125\ \ \ \ \ painter-\/>setPen(paintPen);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00126}00126\ \ \ \ \ \mbox{\hyperlink{class_line_object_add4e11623be9bc6e02557c67674564ed}{updateRubber}}(painter);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00127}00127\ \ \ \ \ \textcolor{keywordflow}{if}(option-\/>state\ \&\ QStyle::State\_Selected)\ \ \{\ paintPen.setStyle(Qt::DashLine);\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00128}00128\ \ \ \ \ \textcolor{keywordflow}{if}(objScene-\/>property(\mbox{\hyperlink{object-data_8h_a54e2373c95db640f15ef70c49de1d952}{ENABLE\_LWT}}).toBool())\ \{\ paintPen\ =\ \mbox{\hyperlink{class_base_object_a7ac621b0affe3fbfc373d8dbc1ea0fd2}{lineWeightPen}}();\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00129}00129\ \ \ \ \ painter-\/>setPen(paintPen);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00131}00131\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_base_object_a59c34db9a64b2204bace685dd3dd74e7}{objectRubberMode}}()\ !=\ \mbox{\hyperlink{object-data_8h_a7c60482fb1e0a76d596f483ee9651d18ae5401b195d69d234a74a137c3422aeb5}{OBJ\_RUBBER\_LINE}})\ painter-\/>drawLine(\mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00133}00133\ \ \ \ \ \textcolor{keywordflow}{if}(objScene-\/>property(\mbox{\hyperlink{object-data_8h_a54e2373c95db640f15ef70c49de1d952}{ENABLE\_LWT}}).toBool()\ \&\&\ objScene-\/>property(\mbox{\hyperlink{object-data_8h_a3c905d043127a700dd69c1172f3dde67}{ENABLE\_REAL}}).toBool())\ \{\ \mbox{\hyperlink{class_base_object_a7f8405662dc85ae3f3e257c36a065c8d}{realRender}}(painter,\ path());\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00134}00134\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00136}\mbox{\hyperlink{class_line_object_add4e11623be9bc6e02557c67674564ed}{00136}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_add4e11623be9bc6e02557c67674564ed}{LineObject::updateRubber}}(QPainter*\ painter)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00137}00137\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00138}00138\ \ \ \ \ \textcolor{keywordtype}{int}\ rubberMode\ =\ \mbox{\hyperlink{class_base_object_a59c34db9a64b2204bace685dd3dd74e7}{objectRubberMode}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00139}00139\ \ \ \ \ \textcolor{keywordflow}{if}(rubberMode\ ==\ \mbox{\hyperlink{object-data_8h_a7c60482fb1e0a76d596f483ee9651d18ae5401b195d69d234a74a137c3422aeb5}{OBJ\_RUBBER\_LINE}})}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00140}00140\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00141}00141\ \ \ \ \ \ \ \ \ QPointF\ sceneStartPoint\ =\ \mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(\textcolor{stringliteral}{"{}LINE\_START"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00142}00142\ \ \ \ \ \ \ \ \ QPointF\ sceneQSnapPoint\ =\ \mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(\textcolor{stringliteral}{"{}LINE\_END"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{setObjectEndPoint1}}(sceneStartPoint);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00145}00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{setObjectEndPoint2}}(sceneQSnapPoint);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00147}00147\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_base_object_ad7b8179f2af447b57ca7ea1ce160dbe4}{drawRubberLine}}(\mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}(),\ painter,\ \mbox{\hyperlink{object-data_8h_a6fb0133a59f261ef3d731f8cfb023f73}{VIEW\_COLOR\_CROSSHAIR}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00148}00148\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00149}00149\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(rubberMode\ ==\ \mbox{\hyperlink{object-data_8h_a7c60482fb1e0a76d596f483ee9651d18a596fc3b8f3fff512fb6b62bd32362747}{OBJ\_RUBBER\_GRIP}})}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00150}00150\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(painter)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00152}00152\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ QPointF\ gripPoint\ =\ \mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(\textcolor{stringliteral}{"{}GRIP\_POINT"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ (gripPoint\ ==\ \mbox{\hyperlink{class_line_object_a2ab9d9ac7926d9d0dbfdebbf28cd457b}{objectEndPoint1}}())\ painter-\/>drawLine(\mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}().p2(),\ mapFromScene(\mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(QString())));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(gripPoint\ ==\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{objectEndPoint2}}())\ painter-\/>drawLine(\mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}().p1(),\ mapFromScene(\mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(QString())));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(gripPoint\ ==\ \mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{objectMidPoint}}())\ \ painter-\/>drawLine(\mbox{\hyperlink{class_base_object_a2ade3e56db935cd69fd3a46ef26c3f1c}{line}}().translated(mapFromScene(\mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(QString()))-\/mapFromScene(gripPoint)));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ QLineF\ rubLine(mapFromScene(gripPoint),\ mapFromScene(\mbox{\hyperlink{class_base_object_afe364b3703b71b547e359106944e0d89}{objectRubberPoint}}(QString())));}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_base_object_ad7b8179f2af447b57ca7ea1ce160dbe4}{drawRubberLine}}(rubLine,\ painter,\ \mbox{\hyperlink{object-data_8h_a6fb0133a59f261ef3d731f8cfb023f73}{VIEW\_COLOR\_CROSSHAIR}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00161}00161\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00162}00162\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00164}\mbox{\hyperlink{class_line_object_a814830f38fd2c36b3f96252ee65d7617}{00164}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_a814830f38fd2c36b3f96252ee65d7617}{LineObject::vulcanize}}()}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00165}00165\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00166}00166\ \ \ \ \ qDebug(\textcolor{stringliteral}{"{}LineObject\ vulcanize()"{}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00167}00167\ \ \ \ \ \mbox{\hyperlink{class_line_object_add4e11623be9bc6e02557c67674564ed}{updateRubber}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00169}00169\ \ \ \ \ \mbox{\hyperlink{class_base_object_abc43b57468707e683827a13958f02f90}{setObjectRubberMode}}(\mbox{\hyperlink{object-data_8h_a7c60482fb1e0a76d596f483ee9651d18aa35aded7b27be08a9939721598c550f6}{OBJ\_RUBBER\_OFF}});}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00170}00170\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00172}00172\ \textcolor{comment}{//\ Returns\ the\ closest\ snap\ point\ to\ the\ mouse\ point}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00173}\mbox{\hyperlink{class_line_object_a71dcd474d5a8c0e5fdc137b48da18a0c}{00173}}\ QPointF\ \mbox{\hyperlink{class_line_object_a71dcd474d5a8c0e5fdc137b48da18a0c}{LineObject::mouseSnapPoint}}(\textcolor{keyword}{const}\ QPointF\&\ mousePoint)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00174}00174\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00175}00175\ \ \ \ \ QPointF\ endPoint1\ =\ \mbox{\hyperlink{class_line_object_a2ab9d9ac7926d9d0dbfdebbf28cd457b}{objectEndPoint1}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00176}00176\ \ \ \ \ QPointF\ endPoint2\ =\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{objectEndPoint2}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00177}00177\ \ \ \ \ QPointF\ midPoint\ \ =\ \mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{objectMidPoint}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00179}00179\ \ \ \ \ qreal\ end1Dist\ =\ QLineF(mousePoint,\ endPoint1).length();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00180}00180\ \ \ \ \ qreal\ end2Dist\ =\ QLineF(mousePoint,\ endPoint2).length();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00181}00181\ \ \ \ \ qreal\ midDist\ \ =\ QLineF(mousePoint,\ midPoint).length();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00183}00183\ \ \ \ \ qreal\ minDist\ =\ qMin(qMin(end1Dist,\ end2Dist),\ midDist);}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00184}00184\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00185}00185\ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ (minDist\ ==\ end1Dist)\ \textcolor{keywordflow}{return}\ endPoint1;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00186}00186\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(minDist\ ==\ end2Dist)\ \textcolor{keywordflow}{return}\ endPoint2;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00187}00187\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(minDist\ ==\ midDist)\ \ \textcolor{keywordflow}{return}\ midPoint;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00189}00189\ \ \ \ \ \textcolor{keywordflow}{return}\ scenePos();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00190}00190\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00191}00191\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00192}\mbox{\hyperlink{class_line_object_acfde9da59c0bbaaab7decdc222aa38a3}{00192}}\ QList<QPointF>\ \mbox{\hyperlink{class_line_object_acfde9da59c0bbaaab7decdc222aa38a3}{LineObject::allGripPoints}}()}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00193}00193\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00194}00194\ \ \ \ \ QList<QPointF>\ gripPoints;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00195}00195\ \ \ \ \ gripPoints\ <<\ \mbox{\hyperlink{class_line_object_a2ab9d9ac7926d9d0dbfdebbf28cd457b}{objectEndPoint1}}()\ <<\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{objectEndPoint2}}()\ <<\ \mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{objectMidPoint}}();}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00196}00196\ \ \ \ \ \textcolor{keywordflow}{return}\ gripPoints;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00197}00197\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00199}\mbox{\hyperlink{class_line_object_af377b9b2e3594940757c25610899c02b}{00199}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_line_object_af377b9b2e3594940757c25610899c02b}{LineObject::gripEdit}}(\textcolor{keyword}{const}\ QPointF\&\ before,\ \textcolor{keyword}{const}\ QPointF\&\ after)}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00200}00200\ \{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00201}00201\ \ \ \ \ \textcolor{keywordflow}{if}\ \ \ \ \ (before\ ==\ \mbox{\hyperlink{class_line_object_a2ab9d9ac7926d9d0dbfdebbf28cd457b}{objectEndPoint1}}())\ \{\ \mbox{\hyperlink{class_line_object_a1b150139c660fbed98153e3763e11d9a}{setObjectEndPoint1}}(after);\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00202}00202\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(before\ ==\ \mbox{\hyperlink{class_line_object_a28d7cf1439908a708098b4fdad8c27da}{objectEndPoint2}}())\ \{\ \mbox{\hyperlink{class_line_object_a9c8114746f495e93b28e22bed3568544}{setObjectEndPoint2}}(after);\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00203}00203\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(before\ ==\ \mbox{\hyperlink{class_line_object_a217ed70d285ec9368d95b0ca4790460f}{objectMidPoint}}())\ \ \{\ QPointF\ delta\ =\ after-\/before;\ moveBy(delta.x(),\ delta.y());\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00204}00204\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00206}\mbox{\hyperlink{class_line_object_ac103a3e4474b084a48281e9409087272}{00206}}\ QPainterPath\ \mbox{\hyperlink{class_line_object_ac103a3e4474b084a48281e9409087272}{LineObject::objectSavePath}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00207}00207\ \textcolor{keyword}{}\{}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00208}00208\ \ \ \ \ QPainterPath\ path;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00209}00209\ \ \ \ \ path.lineTo(\mbox{\hyperlink{class_line_object_addb4600533a0fbdee0dd53803f4a892e}{objectDeltaX}}(),\ \mbox{\hyperlink{class_line_object_ac948543f8c7f41e19cf774ac6f3284d0}{objectDeltaY}}());}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00210}00210\ \ \ \ \ \textcolor{keywordflow}{return}\ path;}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00211}00211\ \}}
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{object-line_8cpp_source_l00213}00213\ \textcolor{comment}{/*\ kate:\ bom\ off;\ indent-\/mode\ cstyle;\ indent-\/width\ 4;\ replace-\/trailing-\/space-\/save\ on;\ */}}

\end{DoxyCode}
